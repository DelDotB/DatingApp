<nav class="navbar navbar-expand-md navbar-dark bg-primary">
	<div class="container">
		<a class="navbar-brand"[routerLink]="['/home']" >Dating App</a>

		<ul *ngIf="loggedIn()" class="navbar-nav mr-auto">
			<li class="nav-item" routerLinkActive="active">
				<a class="nav-link" [routerLink]="['/members']">Matches</a>
			</li>
			<li class="nav-item" routerLinkActive="active">
				<a class="nav-link" [routerLink]="['/lists']">Lists</a>
			</li>
			<li class="nav-item" routerLinkActive="active">
				<a class="nav-link" [routerLink]="['/messages']">Messages</a>
			</li>
			<!--
				<li class="nav-item">
					<a class="nav-link disabled" (click)="logout()">Logout</a>
				</li>
			-->
		</ul>

		<div *ngIf="loggedIn()" class="dropdown" dropdown>
			<a class="dropdown-toggle text-light" dropdownToggle>
				Welcome {{ authService.decodedToken?.unique_name | titlecase }}
			</a>

			<div class="dropdown-menu mt-3" *dropdownMenu>
				<a class="dropdown-item" [routerLink]="['/member/edit']">
					<i class="fa fa-user"></i> Edit profile</a>
				<div class="dropdown-divider"></div>
				<a class="dropdown-item" (click)="logout()">
					<i class="fa fa-sign-out"></i> Logout</a
				>
			</div>
		</div>

		<form
			*ngIf="!loggedIn()"
			#loginForm="ngForm"
			class="form-inline my-2 my-lg-0"
			(ngSubmit)="login()"
		>
			<input
				class="form-control mr-sm-2"
				type="text"
				name="username"
				#username="ngModel"
				placeholder="Username"
				required
				[(ngModel)]="model.username"
			/>
			<input
				class="form-control mr-sm-2"
				type="password"
				name="password"
				#password="ngModel"
				placeholder="Password"
				required
				[(ngModel)]="model.password"
			/>
			<button
				[disabled]="!loginForm.valid"
				class="btn btn-success my-2 my-sm-0"
				type="submit"
			>
				Login
			</button>
		</form>
	</div>
</nav>

<!--
	<pre>
	  Form valid: {{loginForm.valid}}
	  Form touched: {{loginForm.touched}}
	  Form dirty: {{loginForm.dirty}}
	  Form values: {{loginForm.value | json}}
	  username valid: {{username.valid}}
	  username touched: {{username.touched}}
	  username dirty: {{username.dirty}}
	  username values: {{username.value}}
	  password valid: {{password.valid}}
	  password touched: {{password.touched}}
	  password dirty: {{password.dirty}}
	  password values: {{password.value}}
	</pre>
-->
